<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="icon" type="image/png" href="../favicon.ico">
    <title>Modify Requests</title>
    
    

    
    <link rel="stylesheet" href="../style.min.css">

    
        <link rel="stylesheet" href="../asciinema-player.min.35765988cd8cec84f5359961847468f8edf73cd0cf76c7c5df611eb925b229fb.css" integrity="sha256-NXZZiM2M7IT1NZlhhHRo&#43;O33PNDPdsfF32EeuSWyKfs=" media="screen">
        <script src="../asciinema-player.min.31b816eb40dd68ec64b697c2f87018a94a875c7c88a372689ba7d07e691e7e8d.js" integrity="sha256-MbgW60DdaOxktpfC&#43;HAYqUqHXHyIo3Jom6fQfmkefo0="></script>
        <script src="../asciinema-tutorial.min.523d11b10958c52753bfe427fd7a6cea2a73332d73497032ffd8fb2319d3cf5d.js" integrity="sha256-Uj0RsQlYxSdTv&#43;Qn/Xps6ipzMy1zSXAy/9j7IxnTz10="></script>
    

    <meta name="generator" content="Hugo 0.68.3" />
</head>
<body>

<div class="columns container is-marginless">
    <div id="sidebar" class="column is-one-quarter">
        <div class="brand">
    <a href="https://mitmproxy.org/">
        <img src='../logo-docs.png' alt="mitmproxy docs"/>
    </a>

</div>
<nav class="menu">
    <p class="menu-label">Overview</p>
    <ul class="menu-list">
    
    
    
    
        <li >
            <a class=""
                href="../">Introduction</a>
        </li>
    
        <li >
            <a class=""
                href="../overview-installation/">Installation</a>
        </li>
    
        <li >
            <a class=""
                href="../overview-getting-started/">Getting Started</a>
        </li>
    
</ul>

    <p class="menu-label">Beginner Tutorial</p>
    <ul class="menu-list">
    
    
    
    
        <li >
            <a class=""
                href="../mitmproxytutorial-userinterface/">User Interface</a>
        </li>
    
        <li >
            <a class=""
                href="../mitmproxytutorial-interceptrequests/">Intercept Requests</a>
        </li>
    
        <li >
            <a class="is-active"
                href="../mitmproxytutorial-modifyrequests/">Modify Requests</a>
        </li>
    
        <li >
            <a class=""
                href="../mitmproxytutorial-replayrequests/">Replay Requests</a>
        </li>
    
        <li >
            <a class=""
                href="../mitmproxytutorial-whatsnext/">What&#39;s Next</a>
        </li>
    
</ul>

    <p class="menu-label">Core concepts</p>
    <ul class="menu-list">
    
    
    
    
        <li >
            <a class=""
                href="../concepts-howmitmproxyworks/">How mitmproxy works</a>
        </li>
    
        <li >
            <a class=""
                href="../concepts-modes/">Modes of operation</a>
        </li>
    
        <li >
            <a class=""
                href="../concepts-certificates/">Certificates</a>
        </li>
    
        <li >
            <a class=""
                href="../overview-features/">Features</a>
        </li>
    
        <li >
            <a class=""
                href="../concepts-filters/">Filter expressions</a>
        </li>
    
        <li >
            <a class=""
                href="../concepts-options/">Options</a>
        </li>
    
        <li >
            <a class=""
                href="../concepts-commands/">Commands</a>
        </li>
    
        <li >
            <a class=""
                href="../concepts-protocols/">Protocols</a>
        </li>
    
</ul>

    <p class="menu-label"> Addon Development </p>
    <ul class="menu-list">
    
    
    
    
        <li >
            <a class=""
                href="../addons-overview/">Addons</a>
        </li>
    
        <li >
            <a class=""
                href="../addons-events/">Events</a>
        </li>
    
        <li >
            <a class=""
                href="../addons-options/">Options</a>
        </li>
    
        <li >
            <a class=""
                href="../addons-commands/">Commands</a>
        </li>
    
        <li >
            <a class=""
                href="../addons-scripting/">Scripting</a>
        </li>
    
        <li >
            <a class=""
                href="../addons-examples/">Example Addons</a>
        </li>
    
</ul>

    <p class="menu-label"> HOWTOs </p>
    <ul class="menu-list">
    
    
    
    
        <li >
            <a class=""
                href="../howto-kubernetes/">Kubernetes Services</a>
        </li>
    
        <li >
            <a class=""
                href="../howto-transparent/">Transparent Proxying</a>
        </li>
    
        <li >
            <a class=""
                href="../howto-wireshark-tls/">Wireshark and SSL/TLS</a>
        </li>
    
        <li >
            <a class=""
                href="../howto-ignoredomains/">Ignoring Domains</a>
        </li>
    
        <li >
            <a class=""
                href="../howto-transparent-vms/">Transparently Proxying VMs</a>
        </li>
    
        <li >
            <a class=""
                href="../howto-install-system-trusted-ca-android/">Install System CA on Android</a>
        </li>
    
</ul>

    <p class="menu-label"> Tutorials </p>
    <ul class="menu-list">
    
    
    
    
        <li >
            <a class=""
                href="../tute-clientreplay/">Client replay</a>
        </li>
    
        <li >
            <a class=""
                href="../tute-highscores/">Setting highscores on Apple GameCenter</a>
        </li>
    
</ul>
</nav>

    </div>
    <div id="main" class="column content">
        
        
<a class="button is-small is-outlined is-link is-pulled-right"
   target="_blank"
   href="https://github.com/mitmproxy/mitmproxy/blob/master/docs/src/content/mitmproxytutorial-modifyrequests.md"
>
    Edit on GitHub
</a>



        <h1 id="modify-requests"><a class="anchor" href="#modify-requests">#&nbsp;&nbsp;</a>Modify Requests</h1>
<p>In the previous step we resumed intercepted requests without changes.
The full power of interceptions comes to play when we modify an intercepted request before forwarding it to its destination.
You can continue with the window and the already configured interception rule from the previous step.</p>
<div class="asciicast-wrapper">
    <asciinema-player id="asciinema-player" src="../recordings/mitmproxy_modify_requests.cast" font-size="13px" poster="npt:0:3" preload></asciinema-player>
        <article class="panel">
            <p class="panel-heading">
                Video Content
            </p><a href="#" class="panel-block" data-from="0" data-to="8">
                    <span class="instruction-text"><ol>
<li>Welcome to the mitmproxy tutorial. In this lesson we cover the modification of intercepted requests.</li>
</ol></span>
                    <span class="tag is-light">00:00</span>
                </a><a href="#" class="panel-block" data-from="16.4" data-to="22.2">
                    <span class="instruction-text"><ol start="2">
<li>We configure and use the same interception rule as in the last tutorial.</li>
</ol></span>
                    <span class="tag is-light">00:16</span>
                </a><a href="#" class="panel-block" data-from="22.7" data-to="31.7">
                    <span class="instruction-text"><ol start="3">
<li>Press <code>i</code> to prepopulate mitmproxy’s command prompt, enter the flow filter <code>~u /Dunedin &amp; ~q</code>, and press <code>ENTER</code>.</li>
</ol></span>
                    <span class="tag is-light">00:22</span>
                </a><a href="#" class="panel-block" data-from="40.7" data-to="45.6">
                    <span class="instruction-text"><ol start="4">
<li>Let’s generate a request using <code>curl</code> in a separate terminal.</li>
</ol></span>
                    <span class="tag is-light">00:40</span>
                </a><a href="#" class="panel-block" data-from="68.3" data-to="72">
                    <span class="instruction-text"><ol start="5">
<li>We now want to modify the intercepted request.</li>
</ol></span>
                    <span class="tag is-light">01:08</span>
                </a><a href="#" class="panel-block" data-from="72.5" data-to="79.4">
                    <span class="instruction-text"><ol start="6">
<li>Put the focus (<code>&gt;&gt;</code>) on the intercepted flow. This is already the case in our example.</li>
</ol></span>
                    <span class="tag is-light">01:12</span>
                </a><a href="#" class="panel-block" data-from="79.9" data-to="85">
                    <span class="instruction-text"><ol start="7">
<li>Press <code>ENTER</code> to open the details view for the intercepted flow.</li>
</ol></span>
                    <span class="tag is-light">01:19</span>
                </a><a href="#" class="panel-block" data-from="85.7" data-to="88.8">
                    <span class="instruction-text"><ol start="8">
<li>Press <code>e</code> to edit the intercepted flow.</li>
</ol></span>
                    <span class="tag is-light">01:25</span>
                </a><a href="#" class="panel-block" data-from="89.6" data-to="92.5">
                    <span class="instruction-text"><ol start="9">
<li>mitmproxy asks which part to modify.</li>
</ol></span>
                    <span class="tag is-light">01:29</span>
                </a><a href="#" class="panel-block" data-from="93" data-to="97.6">
                    <span class="instruction-text"><ol start="10">
<li>Select <code>path</code> by using your arrow keys and press <code>ENTER</code>.</li>
</ol></span>
                    <span class="tag is-light">01:33</span>
                </a><a href="#" class="panel-block" data-from="101.3" data-to="108">
                    <span class="instruction-text"><ol start="11">
<li>mitmproxy shows all path components line by line, in our example its just <code>Dunedin</code>.</li>
</ol></span>
                    <span class="tag is-light">01:41</span>
                </a><a href="#" class="panel-block" data-from="108.6" data-to="112.8">
                    <span class="instruction-text"><ol start="12">
<li>Press <code>ENTER</code> to modify the selected path component.</li>
</ol></span>
                    <span class="tag is-light">01:48</span>
                </a><a href="#" class="panel-block" data-from="114.5" data-to="117.3">
                    <span class="instruction-text"><ol start="13">
<li>Replace <code>Dunedin</code> with <code>Innsbruck</code>.</li>
</ol></span>
                    <span class="tag is-light">01:54</span>
                </a><a href="#" class="panel-block" data-from="124.8" data-to="127.6">
                    <span class="instruction-text"><ol start="14">
<li>Press <code>ESC</code> to confirm your change.</li>
</ol></span>
                    <span class="tag is-light">02:04</span>
                </a><a href="#" class="panel-block" data-from="128.5" data-to="132.2">
                    <span class="instruction-text"><ol start="15">
<li>Press <code>q</code> to go back to the flow details view.</li>
</ol></span>
                    <span class="tag is-light">02:08</span>
                </a><a href="#" class="panel-block" data-from="133" data-to="136.3">
                    <span class="instruction-text"><ol start="16">
<li>Press <code>a</code> to resume the intercepted flow.</li>
</ol></span>
                    <span class="tag is-light">02:13</span>
                </a><a href="#" class="panel-block" data-from="139.1" data-to="147.4">
                    <span class="instruction-text"><ol start="17">
<li>You see that the request URL was modified and <code>wttr.in</code> replied with the weather report for <code>Innsbruck</code>.</li>
</ol></span>
                    <span class="tag is-light">02:19</span>
                </a><a href="#" class="panel-block" data-from="147.9" data-to="151.9">
                    <span class="instruction-text"><ol start="18">
<li>In the next lesson you will learn to replay flows.</li>
</ol></span>
                    <span class="tag is-light">02:27</span>
                </a></article></div>
<p>In the next lesson, you will learn to replay previous flows.</p>


    </div>
</div>
</body>
</html>

